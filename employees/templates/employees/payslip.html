<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>‡∏™‡∏•‡∏¥‡∏õ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô - {{ employee.first_name }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        body { 
            font-family: 'Sarabun', sans-serif; 
            background: #eee; 
            padding: 20px;
        }
        .payslip-container {
            background: white;
            width: 210mm; /* ‡∏Ç‡∏ô‡∏≤‡∏î A4 */
            min-height: 297mm;
            margin: auto;
            padding: 40px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .header-line { border-bottom: 2px solid #333; margin-bottom: 20px; padding-bottom: 10px; }
        .table-custom th { background-color: #f8f9fa; }
        
        /* ‡∏ã‡πà‡∏≠‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏±‡πà‡∏á Print */
        @media print {
            body { background: white; padding: 0; }
            .payslip-container { box-shadow: none; margin: 0; width: 100%; }
            .no-print { display: none !important; }
        }
    </style>
</head>
<body>

    <div class="payslip-container position-relative">
        
        <div class="position-absolute top-0 end-0 p-4 no-print">
            <button onclick="window.print()" class="btn btn-primary fw-bold">
                üñ®Ô∏è ‡∏û‡∏¥‡∏°‡∏û‡πå / ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å PDF
            </button>
        </div>

        <div class="text-center mb-5">
            <h2 class="fw-bold">JC HR System</h2>
            <p class="text-muted mb-0">‡πÉ‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (Payslip)</p>
        </div>

        <div class="row mb-4">
            <div class="col-6">
                <strong>‡∏£‡∏´‡∏±‡∏™‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô:</strong> {{ employee.employee_id|default:"-" }}<br>
                <strong>‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•:</strong> {{ employee.first_name }} {{ employee.last_name }}<br>
                <strong>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á:</strong> {{ employee.position }}
            </div>
            <div class="col-6 text-end">
                <strong>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡πà‡∏≤‡∏¢:</strong> {{ today|date:"d F Y" }}<br>
                <strong>‡πÅ‡∏ú‡∏ô‡∏Å:</strong> {{ employee.department }}
            </div>
        </div>

        <div class="header-line"></div>

        <table class="table table-bordered table-custom">
            <thead>
                <tr>
                    <th class="text-center" style="width: 50%;">‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ (Income)</th>
                    <th class="text-center" style="width: 50%;">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡∏±‡∏Å (Deduction)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td valign="top">
                        <div class="d-flex justify-content-between mb-2">
                            <span>‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏î‡∏∑‡∏≠‡∏ô (Salary)</span>
                            <span>{{ salary }}</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2 text-muted">
                            <span>‡πÇ‡∏ö‡∏ô‡∏±‡∏™</span>
                            <span>0.00</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2 text-muted">
                            <span>‡∏≠‡∏∑‡πà‡∏ô‡πÜ</span>
                            <span>0.00</span>
                        </div>
                    </td>
                    
                    <td valign="top">
                        <div class="d-flex justify-content-between mb-2">
                            <span>‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏™‡∏±‡∏á‡∏Ñ‡∏° (SSO)</span>
                            <span class="text-danger">-{{ sso }}</span>
                        </div>
                        <div class="d-flex justify-content-between mb-2 text-muted">
                            <span>‡∏†‡∏≤‡∏©‡∏µ</span>
                            <span>0.00</span>
                        </div>
                    </td>
                </tr>
                
                <tr class="table-light fw-bold">
                    <td>
                        <div class="d-flex justify-content-between">
                            <span>‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ</span>
                            <span class="text-success">{{ total_income }}</span>
                        </div>
                    </td>
                    <td>
                        <div class="d-flex justify-content-between">
                            <span>‡∏£‡∏ß‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡∏±‡∏Å</span>
                            <span class="text-danger">{{ sso }}</span>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>

        <div class="alert alert-success mt-4 p-4 text-center border-success">
            <h5 class="mb-2">‡πÄ‡∏á‡∏¥‡∏ô‡πÑ‡∏î‡πâ‡∏™‡∏∏‡∏ó‡∏ò‡∏¥ (Net Pay)</h5>
            <h1 class="fw-bold mb-0">‡∏ø {{ net_salary }}</h1>
            <small class="text-muted">(‡∏ö‡∏≤‡∏ó‡∏ñ‡πâ‡∏ß‡∏ô)</small>
        </div>

        <div class="mt-5 text-center text-muted small">
            <p>‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå (Created by JC HR System)</p>
        </div>

    </div>

</body>
</html>